数字电路模拟实验报告[^1]
===
数字电路模拟中的关键概念[^2]
---
* 数字电路模拟的底层设计实际上是一种事件驱动的模拟：
    * 被模拟的系统是由各种对象组成，对象处在活动之中，而且每个对象的活动往往对相关的对象造成影响
* 数字电路模拟的基本单元：
    * 连线：在基本功能块中传递0 1信号
    * 功能块： 有输入输出端口，在功能块之中进行计算
    * 基本功能块： 反门，与门， 非门
* 数字电路模拟的“语言结构”：
    * 基本功能块是**基本元素**，实现特定效果，使连线的信号能按某种特定方式影响其他连线
    * 用连线连接不同功能块，是语言的**组合机制**
    * 将复杂连接方式定义为过程，是这里的**抽象机制**
* 数字电路模拟的实现细节：
    * 连线：
        * 连线是典型的**变动对象**，保存可能变化的信号，用带局部状态的过程模拟。make-wire 过程构造出一个新连线对象
        * 连线状态被连接其上的所有功能块共享，一个部件的活动通过交互影响与之相连的连线的状态，进而影响连接在这条线上的其他部件
    * 事件处理——待处理表：
        * 设计：
            1. 基本要求是能实现**在一段时间后执行的功能**
            2. 需要维护的信息： **什么时间执行**以及**执行的具体动作**
            3. 维护一个表结构
        * 实现
    * 事件驱动——模拟驱动过程：
        * 顺序处理待处理表中的事项
    * 监视器： 为人服务的观察接口

实验
---
###半加器
    这里基本上是模仿书上的样例
###级联进位加法器（习题3.30）
* 该加法器的目的是求n位二进制数的和
    * 输入： {A} {B}是0 1序列
    * 产生对应的答案序列： {S}
    * 缺点： 时延严重
* 实现方法——与其他实现方法类似，为了简便，这里只实现2位的加法器：
              
        (define (carry-adder a1 a2 b1 b2 s1 s2 c-in c-out)
            (let ((c (make-wire)))
                (full-adder a1 b1 c-in s1 c)
                (full-adder a2 b2 c s2 c-out)))
    

[^1]:Author 赵睿哲 <vincentzhaorz@pku.edu.cn>
[^2]:主要参考[裘老师的PPT](http://www.math.pku.edu.cn/teachers/qiuzy/progtech/slides/sicp03-2.pdf)